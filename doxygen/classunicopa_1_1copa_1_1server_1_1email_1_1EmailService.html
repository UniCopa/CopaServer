<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>CopaServer: unicopa.copa.server.email.EmailService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CopaServer
   </div>
   <div id="projectbrief">Change of Plan Application</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>unicopa</b></li><li class="navelem"><b>copa</b></li><li class="navelem"><b>server</b></li><li class="navelem"><b>email</b></li><li class="navelem"><a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailService.html">EmailService</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailService-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">unicopa.copa.server.email.EmailService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>With the E-Mail Service it is possible to send E-Mails for notifications of updates.  
 <a href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailService.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for unicopa.copa.server.email.EmailService:</div>
<div class="dyncontent">
<div class="center"><img src="classunicopa_1_1copa_1_1server_1_1email_1_1EmailService__coll__graph.png" border="0" usemap="#unicopa_8copa_8server_8email_8EmailService_coll__map" alt="Collaboration graph"/></div>
<map name="unicopa_8copa_8server_8email_8EmailService_coll__map" id="unicopa_8copa_8server_8email_8EmailService_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac8ab9d767fb9bb11fdfd51eb5c1dfcfd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailService.html#ac8ab9d767fb9bb11fdfd51eb5c1dfcfd">EmailService</a> (Properties smtpProps, Map&lt; String, InputStream &gt; texts, FileHandler logFH)</td></tr>
<tr class="memdesc:ac8ab9d767fb9bb11fdfd51eb5c1dfcfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailService.html" title="With the E-Mail Service it is possible to send E-Mails for notifications of updates. ">EmailService</a>.  <a href="#ac8ab9d767fb9bb11fdfd51eb5c1dfcfd">More...</a><br/></td></tr>
<tr class="separator:ac8ab9d767fb9bb11fdfd51eb5c1dfcfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3706722754a323d8254cd0aa55aba8d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailService.html#a3706722754a323d8254cd0aa55aba8d4">postMail</a> (String recipient, String subject, String message)</td></tr>
<tr class="memdesc:a3706722754a323d8254cd0aa55aba8d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a simple plain-text E-Mail.  <a href="#a3706722754a323d8254cd0aa55aba8d4">More...</a><br/></td></tr>
<tr class="separator:a3706722754a323d8254cd0aa55aba8d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12027e6c45424bf6577730db33aec3dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailService.html#a12027e6c45424bf6577730db33aec3dd">notifySingleEventUpdate</a> (List&lt; <a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailContext.html">EmailContext</a> &gt; contexts, <a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1UpdateInformation.html">UpdateInformation</a> info)</td></tr>
<tr class="memdesc:a12027e6c45424bf6577730db33aec3dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends E-Mails to notify the given recipients of the SingelEventUpdate.  <a href="#a12027e6c45424bf6577730db33aec3dd">More...</a><br/></td></tr>
<tr class="separator:a12027e6c45424bf6577730db33aec3dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a3ab3ed6bc95a0071a7d425f3ba6d3902"><td class="memItemLeft" align="right" valign="top">static final Logger&#160;</td><td class="memItemRight" valign="bottom"><b>LOG</b></td></tr>
<tr class="separator:a3ab3ed6bc95a0071a7d425f3ba6d3902"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>With the E-Mail Service it is possible to send E-Mails for notifications of updates. </p>
<dl class="section author"><dt>Author</dt><dd>Philip Wendland </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac8ab9d767fb9bb11fdfd51eb5c1dfcfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unicopa.copa.server.email.EmailService.EmailService </td>
          <td>(</td>
          <td class="paramtype">Properties&#160;</td>
          <td class="paramname"><em>smtpProps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Map&lt; String, InputStream &gt;&#160;</td>
          <td class="paramname"><em>texts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FileHandler&#160;</td>
          <td class="paramname"><em>logFH</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailService.html" title="With the E-Mail Service it is possible to send E-Mails for notifications of updates. ">EmailService</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">smtpProps</td><td>the environment properties used by the JavaMail API. The path to the file is "/email/smtp.properties". You should provide mail.smtp.host - specifies the host address of the SMTP-Server you wish to use, e.g. smtp.example.com mail.smtp.auth - specifies, whether authentication is necessary in order to be able to connect to the SMTP-Server (true/false - true in most cases) mail.smtp.port - specifies the port of the SMTP-Server to connect to, e.g. 587 mail.from - specifies the return E-Mail address of the sent E-Mail, i.e. <a href="#" onclick="location.href='mai'+'lto:'+'inf'+'o@'+'exa'+'mp'+'le.'+'co'+'m'; return false;">info@<span style="display: none;">.nosp@m.</span>exam<span style="display: none;">.nosp@m.</span>ple.c<span style="display: none;">.nosp@m.</span>om</a> username - the username of the user (if mail.smtp.auth=true) password - the password of the user (if mail.smtp.auth=true) for the <a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailService.html" title="With the E-Mail Service it is possible to send E-Mails for notifications of updates. ">EmailService</a> to work properly. </td></tr>
    <tr><td class="paramname">texts</td><td>a Map of &lt;String, InputStream&gt; where the key is a (String-)identifier for the specific template which is read from the InputStream. The path to the files is "/email/templates/". The name of the file is for example "default_newAppointment_english.txt" (see the email configuration folder for more information) The following example shows the format of the text template: The first line is the E-Mail subject line The message body begins with the second line. You can add expressions from <a class="el" href="enumunicopa_1_1copa_1_1server_1_1email_1_1TextPatterns.html" title="The Text-Patterns of the Template for E-Mail message bodies that should be replaced by actual data...">unicopa.copa.server.email.TextPatterns</a> (i.e. _UPDATE_DATE, _CREATOR_NAME, _COMMENT, _LOCATION, _DATE, _SUPERVISOR, _EVENTGROUP_NAME, _EVENT_NAME). These expressions will be replaced by the data from the SingleEventUpdate before sending E-Mails with the method notifySingleEventUpdate. This will also work in the subject line!</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>unicopa.copa.server.email.TextPattern </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a12027e6c45424bf6577730db33aec3dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unicopa.copa.server.email.EmailService.notifySingleEventUpdate </td>
          <td>(</td>
          <td class="paramtype">List&lt; <a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailContext.html">EmailContext</a> &gt;&#160;</td>
          <td class="paramname"><em>contexts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1UpdateInformation.html">UpdateInformation</a>&#160;</td>
          <td class="paramname"><em>info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends E-Mails to notify the given recipients of the SingelEventUpdate. </p>
<p>Note: The format of the E-Mail depends on the data obtained from the parameter "update" and the "TextID" obtained from the parameter contexts. For each TextID there should be one entry in the "texts" parameter which was passed to the constructor when you created your <a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailContext.html" title="The Context which is passed as a list to the E-Mail service. ">EmailContext</a> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">contexts</td><td>a list of EmailContexts (Containing E-Mail-Addresses and TextID's) </td></tr>
    <tr><td class="paramname">info</td><td>the information that should be passed to the recipients </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">MessagingException</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1UpdateInformation.html" title="The update information that is passed to the E-Mail service. ">unicopa.copa.server.email.UpdateInformation</a> </dd>
<dd>
<a class="el" href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailContext.html" title="The Context which is passed as a list to the E-Mail service. ">unicopa.copa.server.email.EmailContext</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a3706722754a323d8254cd0aa55aba8d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unicopa.copa.server.email.EmailService.postMail </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>recipient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>subject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a simple plain-text E-Mail. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">recipient</td><td>the recipient the E-Mail should be sent to, i.e. <a href="#" onclick="location.href='mai'+'lto:'+'x@y'+'.c'+'om'; return false;">x@y.c<span style="display: none;">.nosp@m.</span>om</a> </td></tr>
    <tr><td class="paramname">subject</td><td>the subject of the E-Mail </td></tr>
    <tr><td class="paramname">message</td><td>the plain-text body of the E-Mail </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">MessagingException</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a3ab3ed6bc95a0071a7d425f3ba6d3902"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Logger unicopa.copa.server.email.EmailService.LOG</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= Logger.getLogger(<a class="code" href="classunicopa_1_1copa_1_1server_1_1email_1_1EmailService.html#ac8ab9d767fb9bb11fdfd51eb5c1dfcfd" title="Create a new EmailService. ">EmailService</a>.class</div>
<div class="line">        .getName())</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>CopaServer/src/main/java/unicopa/copa/server/email/EmailService.java</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 3 2013 00:00:06 for CopaServer by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
